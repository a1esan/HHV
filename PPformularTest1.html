<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WIRC-MSW Model ยังไม่เอาจริง</title>
<link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;700&display=swap" rel="stylesheet">
<style>
  :root {
    --primary-blue: #003366;
    --dark-footer: #1a2533;
    --accent-yellow: #f5c242;
    --text-grey: #666;
    --border-dashed: rgba(255, 255, 255, 0.3);
    /* ตัวแปรส่วนคำนวณ */
    --light-yellow: #fceeb5; 
    --active-orange: #fdd835;
    --gray-bg: #f9f9f9;
  }

  body {
    font-family: 'Sarabun', sans-serif;
    margin: 0;
    padding: 0;
    background-color: #fff;
    color: #333;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }

  /* --- Header --- */
  header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 40px;
    background-color: white;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    border-bottom: 1px solid #eee;
  }
  .header-left { display: flex; align-items: center; gap: 15px; }
  .logos { display: flex; gap: 10px; align-items: center; }
  .logos img { height: 50px; width: auto; }
  .brand-text { border-left: 1px solid #ddd; padding-left: 15px; }
  .brand-text h1 { font-size: 1.2rem; font-weight: 700; color: var(--primary-blue); margin: 0; }
  .brand-text p { font-size: 0.8rem; color: var(--text-grey); margin: 0; }
  .header-right { display: flex; align-items: center; gap: 20px; }
  .nav-link { text-decoration: none; color: var(--text-grey); font-size: 0.95rem; }
  .lang-switch { border: 1px solid var(--primary-blue); border-radius: 20px; padding: 4px 15px; color: var(--primary-blue); font-size: 0.9rem; cursor: pointer; }
  .hamburger { font-size: 1.5rem; color: var(--primary-blue); cursor: pointer; }
  
  /* --- App Container --- */
  .app-container {
    display: flex;
    max-width: 1100px;
    width: 95%;
    margin: 40px auto 60px auto;
    background: white;
    border-radius: 15px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.08);
    border: 1px solid #eee;
    overflow: hidden;
    min-height: 600px; 
  }

  /* --- Sidebar --- */
  .sidebar {
    width: 260px;
    background-color: var(--light-yellow);
    padding: 20px;
    border-right: 1px solid #eee;
    flex-shrink: 0;
  }

  .nav-btn {
    display: block;
    width: 100%;
    padding: 12px 15px;
    margin-bottom: 10px;
    background: rgba(255,255,255,0.6);
    border: 2px solid white;
    border-radius: 12px;
    font-size: 16px;
    text-align: center;
    cursor: pointer;
    transition: 0.2s;
    color: #555;
    font-weight: 600;
    box-sizing: border-box;
  }

  .nav-btn:hover { background: white; }
  .nav-btn.active {
    background: white;
    color: var(--primary-blue);
    border-color: var(--active-orange);
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }

  /* --- Content Area --- */
  .content-area {
    flex: 1;
    padding: 40px;
    background-color: white;
  }

  .page-section {
    display: none;
    animation: fadeIn 0.3s;
  }
  .page-section.active { display: block; }
  @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

  h3.section-title {
    color: var(--primary-blue);
    border-bottom: 3px solid var(--light-yellow);
    padding-bottom: 10px;
    margin-top: 0;
    margin-bottom: 30px;
    text-align: center;
    font-size: 1.5rem;
  }

  /* --- Custom Table Styles --- */
  .custom-table {
    display: flex;
    flex-direction: column;
    gap: 8px;
    font-family: 'Sarabun', sans-serif;
    margin-bottom: 20px;
  }

  .ct-row {
    display: grid;
    grid-template-columns: 2fr 1fr 1.2fr 1.2fr;
    gap: 8px;
  }

  .ct-header, .ct-section {
    background-color: #d9d9d9;
    padding: 12px;
    text-align: center;
    border-radius: 8px;
    font-weight: bold;
    color: #333;
  }

  .ct-header { display: flex; align-items: center; justify-content: center; }

  .ct-blue {
    background-color: #a9d1e5;
    padding: 10px;
    border-radius: 8px;
    color: #000;
    display: flex; align-items: center; justify-content: center;
  }

  .ct-yellow {
    background-color: #ffe699;
    padding: 10px;
    border-radius: 8px;
    color: #000;
    display: flex; align-items: center; justify-content: center;
  }

  .left-align { justify-content: flex-start; padding-left: 20px; }

  /* ช่องกรอกข้อมูล */
  .ct-input-box {
    background-color: #f2f2f2;
    border-radius: 8px;
    border: none !important;
    display: flex; align-items: center; justify-content: center;
    overflow: hidden;
    min-height: 40px;
  }
  .ct-input-box:focus-within { background-color: #e6e6e6; }

  .ct-input {
    width: 100%; height: 100%;
    border: none !important;
    background: transparent !important;
    outline: none !important;
    text-align: center;
    font-family: 'Sarabun', sans-serif;
    font-size: 1rem;
    color: #333;
    padding: 0; margin: 0;
  }

  /* --- General Input & Buttons --- */
  .input-group {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 15px; padding: 15px;
    background: var(--gray-bg);
    border-radius: 8px; border: 1px solid #eee;
  }

  .btn-calc {
    width: 100%; padding: 12px;
    background-color: var(--primary-blue);
    color: white;
    border: none; border-radius: 8px;
    font-size: 1.1rem; cursor: pointer;
    margin-top: 20px; transition: background 0.2s;
    font-family: 'Sarabun', sans-serif;
  }
  .btn-calc:hover { background-color: #002244; }

  .result-box {
    margin-top: 20px; text-align: center;
    font-size: 1.2rem; font-weight: bold;
    color: var(--primary-blue);
    padding: 15px; background-color: #f0f7ff;
    border-radius: 8px;
  }

  /* --- CSS สำหรับวางตัวเลขบนรูปภาพ --- */

.diagram-container {
  position: relative; /* เป็นจุดอ้างอิงให้ตัวเลข */
  display: inline-block; /* ให้กรอบพอดีกับรูป */
  width: 100%;
  max-width: 600px; /* คุมขนาดรูปไม่ให้ใหญ่เกิน */
}

.diagram-img {
  width: 100%;
  height: auto;
  display: block;
}

/* สไตล์ของตัวเลขที่จะไปโผล่ในกล่อง */
.overlay-number {
  position: absolute;
  /* background-color: rgba(255, 0, 0, 0.2);  <-- ถ้าจะเช็คตำแหน่ง ให้เอาบรรทัดนี้ออกจะเห็นสีแดงจางๆ */
  color: #003366;      /* สีตัวเลข (น้ำเงินเข้ม) */
  font-weight: bold;
  font-size: 1.2rem;   /* ขนาดตัวเลข */
  width: 15%;          /* ความกว้างพื้นที่ตัวเลข (กะประมาณเอา) */
  text-align: center;  /* จัดกึ่งกลาง */
}

/* ปรับตำแหน่งกล่องบน (Secondary Air) */
.pos-top {
  top: 32%;   /* ห่างจากขอบบน 38% (ลองปรับเลขนี้ถ้าไม่ตรง) */
  right: 10%; /* ห่างจากขอบขวา 18% */
}

/* ปรับตำแหน่งกล่องล่าง (Primary Air) */
.pos-bottom {
  bottom: 26%; /* ห่างจากขอบล่าง 23% (ลองปรับเลขนี้ถ้าไม่ตรง) */
  right: 8%;  /* ห่างจากขอบขวา 18% */
}

  /* --- Summary Page --- */
  .sum-list { list-style: none; padding: 0; }
  .sum-item {
    display: flex; justify-content: space-between; padding: 12px 0;
    border-bottom: 1px solid #eee;
  }
  .total-box {
    margin-top: 20px; padding: 20px;
    background-color: var(--light-yellow);
    border: 2px solid var(--active-orange);
    border-radius: 10px;
    display: flex; justify-content: space-between; align-items: center;
    font-size: 1.4rem; font-weight: bold; color: var(--primary-blue);
  }

  /* --- Responsive --- */
  @media (max-width: 800px) {
    .app-container { flex-direction: column; height: auto; }
    .sidebar { width: 100%; display: flex; overflow-x: auto; padding: 10px; gap: 10px; box-sizing: border-box; }
    .nav-btn { width: auto; white-space: nowrap; margin-bottom: 0; flex-shrink: 0; }
  }

  /* --- Side Menu Mobile --- */
  .menu-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.6); display: none; z-index: 999;
  }
  .menu-overlay.active { display: block; }

  .side-menu {
    position: fixed; top: 0; right: -400px;
    width: 350px; height: 100%;
    background-color: #1a2533; z-index: 1000;
    transition: 0.4s ease; box-shadow: -5px 0 15px rgba(0,0,0,0.3);
    border-radius: 20px 0 0 20px; color: white; overflow-y: auto;
  }
  .side-menu.active { right: 0; }
  .menu-content { padding: 40px 25px; text-align: center; }
  .close-btn { position: absolute; top: 20px; left: 20px; font-size: 2rem; cursor: pointer; color: white; }
  .menu-links { display: flex; flex-direction: column; gap: 12px; margin-top: 30px; }
  .menu-links a {
    display: block; padding: 14px; color: white; text-decoration: none;
    border: 1px solid rgba(255,255,255,0.2); border-radius: 10px; transition: 0.3s;
    font-size: 0.95rem; text-align: left;
  }
  .menu-links a:hover { background-color: rgba(255,255,255,0.1); color: var(--accent-yellow); border-color: white; }

  /* --- ส่วน CSS ที่เพิ่มใหม่สำหรับ Diagram --- */
.result-section-hidden {
  display: none; /* ซ่อนไว้ก่อน จะโชว์เมื่อกดคำนวณ */
  margin-top: 30px;
  animation: fadeIn 0.5s;
}

.result-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  align-items: flex-start;
}

.result-table-col {
  flex: 1;
  min-width: 300px;
}

.result-image-col {
  flex: 1;
  min-width: 300px;
  position: relative; /* เพื่อให้วางกล่องตัวเลขทับได้ */
  display: flex;
  justify-content: center;
}

.diagram-container {
  position: relative;
  width: 100%;
  max-width: 500px; /* ปรับขนาดรูปสูงสุดตามต้องการ */
}

.diagram-img {
  width: 100%;
  height: auto;
  display: block;
}

/* กล่องตัวเลขที่ลอยอยู่บนรูป */
.overlay-box {
  position: absolute;
  background-color: white;
  border: 1px solid #333;
  padding: 5px 10px;
  border-radius: 4px;
  font-weight: bold;
  color: var(--primary-blue);
  min-width: 60px;
  text-align: center;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  font-size: 0.9rem;
}

/* ตำแหน่งกล่อง (ต้องปรับ % ตามรูปจริงของคุณ) */
/* กล่อง Secondary Air (ด้านบน) */
.pos-sec {
  top: 35%;  /* ปรับตำแหน่งแนวตั้ง */
  right: 5%; /* ปรับตำแหน่งแนวนอน */
}

/* กล่อง Primary Air (ด้านล่าง) */
.pos-pri {
  bottom: 20%; /* ปรับตำแหน่งแนวตั้ง */
  right: 5%;   /* ปรับตำแหน่งแนวนอน */
}

  /* --- Footer --- */
  main { flex: 1; padding: 20px; }
  
  footer {
    background-color: #161F2B;
    color: #ffffff;
    font-family: 'Sarabun', sans-serif;
    margin-top: auto;
  }
  .footer-content {
    display: flex;
    justify-content: space-between;
    max-width: 1200px;
    margin: 0 auto;
    padding: 60px 20px;
  }
  .f-col-info { flex: 2; padding-right: 40px; }
  .f-col-info h3 { margin: 5px 0; font-size: 1.1rem; }
  .f-col-info p { color: #ccc; font-size: 0.9rem; margin-top: 10px; line-height: 1.6; }
  .f-col-menu {
    flex: 1;
    border-left: 1px dashed rgba(255,255,255,0.3);
    padding-left: 40px;
  }
  .f-col-contact {
    flex: 1.5;
    border-left: 1px dashed rgba(255,255,255,0.3);
    padding-left: 40px;
  }
  .f-title { font-weight: bold; margin-bottom: 20px; font-size: 1rem; text-transform: uppercase; letter-spacing: 1px; }
  .f-links { list-style: none; padding: 0; }
  .f-links li { margin-bottom: 12px; }
  .f-links a { color: #dddddd; text-decoration: none; transition: 0.3s; }
  .f-links a:hover { color: #ffca28; }
  .contact-detail p { margin-bottom: 8px; color: #ccc; font-size: 0.9rem; }
  .copyright {
    background-color: #0f151d;
    text-align: center;
    padding: 20px;
    font-size: 0.8rem;
    color: #666;
    border-top: 1px solid rgba(255,255,255,0.05);
  }
</style>
<!-- จบ CSS -->
</head>
<body>

  <div id="menuOverlay" class="menu-overlay" onclick="toggleMenu()"></div>
  <div id="sideMenu" class="side-menu">
      <div class="menu-content">
          <div class="close-btn" onclick="toggleMenu()">×</div>
          <div class="menu-header">
              <h2>WIRC-MSW Model</h2>
              <p>Mathematical Model for MSW in Developing Countries</p>
          </div>
          <nav class="menu-links">
              <a href="index.html" onclick="toggleMenu()">Home</a>
              <a href="HHV_test.html" onclick="toggleMenu()">HHV Calculator</a>
              <a href="PPformularTest1.html" onclick="toggleMenu()">Power Plant Performance</a>
              <a href="manual.html" onclick="toggleMenu()">User Manual</a>
              <a href="#" onclick="toggleMenu()">Contact Us</a>
          </nav>
      </div>
  </div>

  <header>
    <div class="header-left">
      <div class="logos">
        <img src="image/KMUTNB LOGO.png" style="height: 50px;">
        <img src="image/MAE LOGO.png" style="height: 50px;">
        <img src="image/WRIC LOGO.png" style="height: 50px;">
      </div>

      <div class="brand-text">
        <h1>WIRC-MSW Model</h1>
        <p>Mathematical Model for MSW in Developing Countries</p>
      </div>
    </div>
    <div class="header-right">
      <a href="manual.html" class="nav-link">User Manual</a>
      <div class="lang-switch">TH | EN</div>
      <div class="hamburger" onclick="toggleMenu()">☰</div>
    </div>
  </header>

  <main>
    <div class="app-container">
      <nav class="sidebar">
        <div class="nav-btn active" onclick="goToPage(1)">1. Combustion Air Quantity</div>
        <div class="nav-btn" onclick="goToPage(2)">2. Exhaust Gas Generation</div>
        <div class="nav-btn" onclick="goToPage(3)">3. Combustion Temperature</div>
        <div class="nav-btn" onclick="goToPage(4)">4. Steam Generation Rate</div>
        <div class="nav-btn" onclick="goToPage(7)">5. Turbine/Gen</div>
        <div class="nav-btn" onclick="goToPage('sum')" style="margin-top: 10px; border-color: var(--primary-blue); color: var(--primary-blue);">6. Summary</div>
      </nav>

      <div class="content-area">
        <!-- เริ่มส่วนที่1 -->
        <div id="page-1" class="page-section active">
          <h3 class="section-title">Combustion Air Quantity</h3>
          
          <div class="custom-table">
            <div class="ct-section">Design criteria</div>
            <div class="ct-row">
              <div class="ct-blue left-align">Amount of Solid Waste</div>
              <div class="ct-blue">X</div>
              <div class="ct-input-box"><input type="number" class="ct-input inp-1" placeholder="0"></div>
              <div class="ct-blue">Ton/day</div>
            </div>
            <div class="ct-row">
              <div class="ct-blue left-align">Secondary Air Ratio</div>
              <div class="ct-blue">X</div>
              <div class="ct-input-box"><input type="number" class="ct-input inp-1" placeholder="0"></div>
              <div class="ct-blue">%</div>
            </div>
          </div>

          <button class="btn-calc" onclick="calculate(1)">คำนวณ (Calculate)</button>
          
          <div class="result-box">สถานะ: <span id="status-text">กรุณากดคำนวณ</span></div>

          <div id="result-image-box" style="display: none; margin-top: 30px; text-align: center;">
            
            <h4 style="color: var(--primary-blue);">ผลลัพธ์การคำนวณ</h4>

            <div class="diagram-container">
              <img src="image/Airflow (2).png" class="diagram-img" alt="Diagram">
              
              <div id="box-val-sec" class="overlay-number pos-top">0</div>

              <div id="box-val-pri" class="overlay-number pos-bottom">0</div>
            </div>

          </div>
        </div>
        <!-- จบส่วนที่ 1 -->

        <!-- เริ่มส่วนที่ 2 -->
         <div id="page-2" class="page-section">
          <h3 class="section-title">ปริมาณอากาศที่ใช้ในการเผาไหม้</h3>
          
          <div class="custom-table">
            <div class="ct-section">เกณฑ์ในการออกแบบ</div>
            <div class="ct-row">
              <div class="ct-blue left-align">Amount of Solid Waste</div>
              <div class="ct-blue">X</div>
              <div class="ct-input-box"><input type="number" class="ct-input inp-1" placeholder="0"></div>
              <div class="ct-blue">Ton/day</div>
            </div>
            <div class="ct-row">
              <div class="ct-blue left-align">Secondary Air Ratio</div>
              <div class="ct-blue">X</div>
              <div class="ct-input-box"><input type="number" class="ct-input inp-1" placeholder="0"></div>
              <div class="ct-blue">%</div>
            </div>
          </div>

          <button class="btn-calc" onclick="calculate(1)">คำนวณ (Calculate)</button>
          
          <div class="result-box">สถานะ: <span id="status-text">กรุณากดคำนวณ</span></div>

          <div id="result-image-box" style="display: none; margin-top: 30px; text-align: center;">
            
            <h4 style="color: var(--primary-blue);">ผลลัพธ์การคำนวณ</h4>

            <div class="diagram-container">
              <img src="image/Airflow (2).png" class="diagram-img" alt="Diagram">
              
              <div id="box-val-sec" class="overlay-number pos-top">0</div>

              <div id="box-val-pri" class="overlay-number pos-bottom">0</div>
            </div>

          </div>
        </div> 
        <!-- จบส่วนที่ 2 -->

        <!-- เริ่มส่วนที่ 3 -->
        <div id="page-3" class="page-section">
          <h3 class="section-title">ส่วนที่ 3: อุณหภูมิของกระบวนการเผาไหม้</h3>
          <div class="input-group"><label>ค่า C1:</label><input type="number" class="inp-3" placeholder="0"></div>
          <div class="input-group"><label>ค่า C2:</label><input type="number" class="inp-3" placeholder="0"></div>
          <button class="btn-calc" onclick="calculate(3)">คำนวณ (Calculate)</button>
          <div class="result-box">ผลลัพธ์: <span id="res-3">0</span></div>
        </div>
        <!-- จบส่วนที่ 3 -->

        <div id="page-4" class="page-section">
          <h3 class="section-title">ส่วนที่ 4: อัตราการผลิตไอน้ำ</h3>
          <div class="input-group"><label>ค่า D1:</label><input type="number" class="inp-4" placeholder="0"></div>
          <div class="input-group"><label>ค่า D2:</label><input type="number" class="inp-4" placeholder="0"></div>
          <button class="btn-calc" onclick="calculate(4)">คำนวณ (Calculate)</button>
          <div class="result-box">ผลลัพธ์: <span id="res-4">0</span></div>
        </div>

        <div id="page-5" class="page-section">
          <h3 class="section-title">ส่วนที่ 5: งานและพลังงานไฟฟ้าที่ผลิตได้</h3>
          <div class="input-group"><label>ค่า E1:</label><input type="number" class="inp-5" placeholder="0"></div>
          <div class="input-group"><label>ค่า E2:</label><input type="number" class="inp-5" placeholder="0"></div>
          <button class="btn-calc" onclick="calculate(5)">คำนวณ (Calculate)</button>
          <div class="result-box">ผลลัพธ์: <span id="res-5">0</span></div>
        </div>

        <div id="page-6" class="page-section">
          <h3 class="section-title">ส่วนที่ 6: Boiler Efficiency</h3>
          <div class="input-group"><label>ค่า F1:</label><input type="number" class="inp-6" placeholder="0"></div>
          <div class="input-group"><label>ค่า F2:</label><input type="number" class="inp-6" placeholder="0"></div>
          <button class="btn-calc" onclick="calculate(6)">คำนวณ (Calculate)</button>
          <div class="result-box">ผลลัพธ์: <span id="res-6">0</span></div>
        </div>

        <div id="page-7" class="page-section">
          <h3 class="section-title">ส่วนที่ 7: Turbine & Generator</h3>
          <div class="input-group"><label>ค่า G1:</label><input type="number" class="inp-7" placeholder="0"></div>
          <div class="input-group"><label>ค่า G2:</label><input type="number" class="inp-7" placeholder="0"></div>
          <button class="btn-calc" onclick="calculate(7)">คำนวณ (Calculate)</button>
          <div class="result-box">ผลลัพธ์: <span id="res-7">0</span></div>
        </div>

        <div id="page-sum" class="page-section">
          <h3 class="section-title">สรุปผลรวม (Summary)</h3>
          <p style="text-align:center; color:#666; margin-bottom: 20px;">นำผลลัพธ์ที่คำนวณได้จากทุกส่วนมารวมกัน</p>
          <div style="background: var(--gray-bg); border: 1px solid #eee; padding: 20px; border-radius: 8px;">
            <ul class="sum-list" id="sum-list-container">
              </ul>
          </div>
          <div class="total-box">
            <span>ยอดรวมสุทธิ (Grand Total):</span>
            <span id="grand-total-display">0</span>
          </div>
        </div>

      </div>
    </div>
  </main>

  <footer>
    <div class="footer-content">
      <div class="f-col-info">
        <div class="footer-logo-area">
          <img src="image/PP AND MSW LOGO.png" style="height: 80px;"></div>
        <h3>Heating Value Calculation and Municipal Solid Waste (MSW)</h3>
        <h3 style="margin-top:0;">Power Plant Potential Assessment System</h3>
        <p>Mathematical Modeling for Predicting Calorific Value and Electrical Power Generation from MSW</p>
      </div>

      <div class="f-col-menu">
        <div class="f-title">MENU</div>
        <ul class="f-links">
          <li><a href="index.html">Home</a></li>
          <li><a href="HHV_test.html">HHV Calculator</a></li>
          <li><a href="PPformularTest1.html">Power Plant Performance</a></li>
          <li><a href="manual.html">User Manual</a></li>
        </ul>
      </div>

      <div class="f-col-contact">
        <div class="f-title">Contact Us</div>
        <div class="contact-detail">
          <p><strong>The Waste Incineration Research Center (WIRC)</strong></p>
          <p>Department of Mechanical and Aerospace Engineering</p>
          <p>King Mongkut's University of Technology North Bangkok 1518 </p>
          <p>Pibulsongkram Road, Bangsue, Bangkok 10800 </p>
          <p style="margin-top: 15px;">Email: somrat.k@eng.kmutnb.ac.th</p>
        </div>
      </div>
    </div>

    <div class="copyright">
      Copyright © 2026 WIRC, KMUTNB. All Rights Reserved.
    </div>
  </footer>

  <!-- javascript -->
  <script>
    // --- ฟังก์ชัน 1: สำหรับเปลี่ยนหน้า (Tab) ---
    function goToPage(pageIndex) {
      // 1. ซ่อนทุกหน้าก่อน
      document.querySelectorAll('.page-section').forEach(page => {
        page.classList.remove('active');
      });

      // 2. เอาไฮไลท์ออกจากปุ่มเมนูทั้งหมด
      document.querySelectorAll('.nav-btn').forEach(btn => {
        btn.classList.remove('active');
      });

      // 3. แสดงหน้าเป้าหมาย
      const targetPage = document.getElementById('page-' + pageIndex);
      if (targetPage) {
        targetPage.classList.add('active');
      }

      // 4. ไฮไลท์ปุ่มที่กด (คำนวณลำดับปุ่ม)
      const buttons = document.querySelectorAll('.nav-btn');
      let btnIndex = -1;
      
      if (pageIndex === 'sum') {
        // ถ้าเป็นหน้า Summary คือปุ่มสุดท้าย
        btnIndex = buttons.length - 1;
      } else {
        // ถ้าเป็นตัวเลข ให้ลบ 1 เพราะ index เริ่มที่ 0
        btnIndex = parseInt(pageIndex) - 1;
      }

      if (buttons[btnIndex]) {
        buttons[btnIndex].classList.add('active');
      }

      // ถ้าเปิดบนมือถือ ให้ปิดเมนูหลังจากกดเลือก
      if(window.innerWidth <= 800) {
        toggleMenu();
      }
    }

    // --- ฟังก์ชัน 2: เปิด/ปิด เมนูมือถือ (Hamburger) ---
    function toggleMenu() {
      const menu = document.getElementById('sideMenu');
      const overlay = document.getElementById('menuOverlay');
      
      // เช็คว่ามี class 'active' อยู่ไหม
      if (menu.classList.contains('active')) {
        menu.classList.remove('active');
        overlay.classList.remove('active');
      } else {
        menu.classList.add('active');
        overlay.classList.add('active');
      }
    }

    // --- ฟังก์ชัน 3: คำนวณ (Calculate) ---
    function calculate(pageIndex) {
      // 1. ดึงค่าจากช่อง input ในหน้านั้นๆ มาบวกกัน
      let inputs = document.querySelectorAll(`.inp-${pageIndex}`);
      let sum = 0;
      inputs.forEach(input => {
        let val = parseFloat(input.value);
        if(!isNaN(val)) sum += val;
      });
      
      // 2. ถ้าเป็นหน้า 1 (Page 1) มีเงื่อนไขพิเศษ: โชว์รูปภาพและตัวเลข
      if(pageIndex === 1) {
        // เปลี่ยนข้อความสถานะ
        let statusText = document.getElementById('status-text');
        if(statusText) {
          statusText.innerText = "คำนวณเสร็จสิ้น (ดูตัวเลขในภาพ)";
          statusText.style.color = "green";
        }

        // เปิดรูปภาพขึ้นมา
        let imgBox = document.getElementById('result-image-box');
        if(imgBox) imgBox.style.display = 'block';

        // *** เอาเลขไปใส่ในกล่องบนภาพ ***
        // ตัวอย่าง: เอาผลรวมไปใส่กล่องล่าง (Primary)
        let boxPri = document.getElementById('box-val-pri');
        if(boxPri) boxPri.innerText = sum.toLocaleString(); 
        
        // ตัวอย่าง: เอาผลรวมหาร 2 ไปใส่กล่องบน (Secondary)
        let boxSec = document.getElementById('box-val-sec');
        if(boxSec) boxSec.innerText = (sum / 2).toLocaleString(); 
      }
      else {
        // หน้าอื่นๆ โชว์ผลลัพธ์ที่ span ปกติ
        let resSpan = document.getElementById(`res-${pageIndex}`);
        if(resSpan) resSpan.innerText = sum.toLocaleString();
      }
    }
  </script>

</body>
</html>